<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="resources/css/default.css" rel="stylesheet" type="text/css" />
	<link href="resources/css/cssLayout.css" rel="stylesheet"
		type="text/css" />
	<script type="text/javascript">
		function resizePanel() {
			var menusHeight = $('#logoPanel').outerHeight()
					+ $('#menu').outerHeight() + 15;
			$('#indexDiv').css({
				"height" : window.innerHeight - menusHeight
			});
			$('#apiManualDiv').css({
				"height" : window.innerHeight - menusHeight
			});
			var headerHeight = $('#ReqSubForm\\:namePartsTree\\:nameDesc')
					.outerHeight();
			if (headerHeight == null) {
				headerHeight = $('#ManageNameForm\\:devicesTree\\:devName')
						.outerHeight();
			}

			menusHeight = menusHeight + $('#filterTable').outerHeight()
					+ headerHeight + 7;
			$('.ui-treetable-scrollable-body').css({
				"height" : window.innerHeight - menusHeight
			});
		}

		$(window).resize(function() {
			resizePanel();
		});

		$(window).ready(function() {
			resizePanel();
		});

		function start() {
			statusDialog.show();
		}

		function stop() {
			statusDialog.hide();
		}

		function displayMnemonicLengthWarningOnAdd() {
			if ($('#addNameForm\\:icode').val().length > 4) {
				$('#addNameForm\\:mnemonicLengthWarning').css({
					"display" : "block"
				});
			} else {
				$('#addNameForm\\:mnemonicLengthWarning').css({
					"display" : "none"
				});
			}
		}

		function displayMnemonicLengthWarningOnMod() {
			if ($('#ModNameForm\\:mcode').val().length > 4) {
				$('#ModNameForm\\:mnemonicLengthWarning').css({
					"display" : "block"
				});
			} else {
				$('#ModNameForm\\:mnemonicLengthWarning').css({
					"display" : "none"
				});
			}
		}

		function displayIndexLengthWarningOnAdd() {
			if ($('#addDeviceNameForm\\:instanceIndex').val().length > 3) {
				$('#addDeviceName\\:indexLengthWarning').css({
					"display" : "block"
				});
			} else {
				$('#addDeviceName\\:indexLengthWarning').css({
					"display" : "none"
				});
			}
		}

		function displayIndexLengthWarningOnMod() {
			if ($('#modDeviceNameForm\\:instanceIndex').val().length > 3) {
				$('#modDeviceName\\:indexLengthWarning').css({
					"display" : "block"
				});
			} else {
				$('#modDeviceName\\:indexLengthWarning').css({
					"display" : "none"
				});
			}
		}
	</script>
	<link rel="shortcut icon" href="resources/images/favicon.ico" />
	<title> Naming Service </title>
</h:head>

<h:body>
	<p:outputPanel id="full" layout="block">
		<p:panel id="logoPanel" styleClass="ui-widget-header">
			<div id="user" style="float: right" >
				<p:commandButton process="@this" value="Sign In"
					icon="ui-icon-person" update=":full"
					action="#{loginController.prepareLoginPopup()}"
					rendered="#{not userManager.isLoggedIn()}" />
				<p:outputLabel for="signout" value="#{userManager.getUsername()}" styleClass="ui-widget-header"/>
				<p:commandButton id="signout" process="@this" value="Sign Out"
					icon="ui-icon-person" update=":full"
					action="#{loginController.signOut()}"
					rendered="#{userManager.isLoggedIn()}" />
			</div>
			<div id="title">
					<h:outputText value="#{msgs.title}" />
			</div>
		</p:panel>
		<ui:include src="/WEB-INF/includes/menubar.xhtml" />

		<div style="padding: 15px 15px 0px 15px">
			<ui:insert name="content">Content</ui:insert>
		</div>
	</p:outputPanel>

	<p:dialog modal="true" widgetVar="statusDialog" showHeader="false"
		draggable="false" closable="false" resizable="false">
		<p:graphicImage value="/resources/images/ajax-loader.gif" />
	</p:dialog>
</h:body>

</html>
