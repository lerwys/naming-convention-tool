<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<h:form id="#{formId}">
		<p:dialog id="#{widgetId}" widgetVar="#{widgetId}" header="#{widgetTitle}" modal="true" width="800" >
			<h:panelGrid id="#{gridId}" columns="2" width="100%">
				<p:outputLabel for="idesc" value="Full Name:" />
				<h:panelGroup>
					<p:inputText id="idesc" value="#{fullName}"	required="true" requiredMessage="Please enter a name." style="width:100%" />
					<p:watermark for="idesc" value="#{watermarkName}" />
					<p:message for="idesc" />
				</h:panelGroup>
				
				<p:outputLabel for="icode" rendered="#{required}" value="Mnemonic:" />
				<h:panelGroup rendered="#{required}">
					<p:inputText id="icode" value="#{mnemonic}"	onkeyup="#{warning}" rendered="#{required}" required="#{required}" requiredMessage="Please enter a mnemonic." style="width:100%">
						<f:validator validatorId="#{validator}" />
					</p:inputText>
					<p:watermark for="icode" value="#{watermarkMnemonic}" />
					<p:message for="icode" />
					<div id="addNameForm:mnemonicLengthWarning"
						class="ui-message ui-message-warn ui-widget ui-corner-all"
						style="display: none">
						<span class="ui-message-warn-icon"></span> <span
							class="ui-message-warn-detail">Mnemonic should be between 2 and 4 characters long although 6 characters are allowed.</span>
					</div>
				</h:panelGroup>

				<p:outputLabel for="desc" value="Description:" />	
				<h:panelGroup>
					<p:inputTextarea id="desc" rows="5" cols="60" counter="dcounter"
						maxlength="254" value="#{description}"
						counterTemplate="{0} characters remaining." autoResize="false" />
					<br />
					<h:outputText id="dcounter" />
				</h:panelGroup>
			</h:panelGrid>
			<p:separator />
			<h:panelGrid width="100%">
				<h:panelGroup>
				<p:outputLabel for="icomm" value="Commit Message:" />
					<p:inputTextarea id="icomm" rows="5" cols="60" counter="icounter"
						maxlength="254" value="#{comment}"
						counterTemplate="{0} characters remaining." autoResize="false" />
					<br />
					<h:outputText id="icounter" />
				</h:panelGroup>

			<f:facet name="footer">
			<p:commandButton value="Submit" style="float: right"
				update="#{gridId} :ReqSubForm"
				actionListener="#{namePartsController[submitHandler]}" 
				oncomplete="if (args &amp;&amp; !args.validationFailed) PF(#{widgetId}).hide() ; resizePanel()" />
			<p:commandButton value="Cancel" style="float: right"
				onclick="PF(#{widgetId}).hide()" />
			</f:facet>
			</h:panelGrid>

		</p:dialog>
	</h:form>
</ui:composition>